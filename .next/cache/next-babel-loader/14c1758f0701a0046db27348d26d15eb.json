{"ast":null,"code":"var _jsxFileName = \"/Users/farisaziz/Desktop/Projecs/Throwdown_Site/throwdown_site/hooks/useAuth.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// Provider hook that creates an auth object and handles it's state\nimport { useState, useEffect, useContext, createContext } from \"react\";\nimport { app, auth } from \"../config/firebase\";\nimport { appendErrors } from \"react-hook-form\";\nconst authContext = /*#__PURE__*/createContext({\n  user: {}\n});\nconst {\n  Provider\n} = authContext;\nexport function AuthProvider({\n  children\n}) {\n  const auth = useAuthProvider();\n  return __jsx(Provider, {\n    value: auth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 10\n    }\n  }, children);\n}\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nconst useAuthProvider = () => {\n  const {\n    0: user,\n    1: setUser\n  } = useState(null);\n\n  if (app) {\n    app.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        setUser(user);\n      }\n    });\n  }\n\n  const signIn = (email, password) => {\n    return auth.signInWithEmailAndPassword(email, password).then(response => {\n      setUser(response.user);\n      return response.user;\n    }).catch(error => {\n      throw error.message;\n    });\n  };\n\n  const signOut = () => {\n    return auth.signOut().then(() => setUser(false));\n  };\n\n  const signUp = ({\n    name,\n    email,\n    password\n  }) => {\n    return auth.createUserWithEmailAndPassword(email, password).then(response => {\n      auth.currentUser.sendEmailVerification();\n      return setUser(response.user);\n    }).catch(error => {\n      return {\n        error\n      };\n    });\n  };\n\n  return {\n    user,\n    signUp,\n    signIn,\n    signOut\n  };\n};","map":{"version":3,"sources":["/Users/farisaziz/Desktop/Projecs/Throwdown_Site/throwdown_site/hooks/useAuth.js"],"names":["useState","useEffect","useContext","createContext","app","auth","appendErrors","authContext","user","Provider","AuthProvider","children","useAuthProvider","useAuth","setUser","onAuthStateChanged","signIn","email","password","signInWithEmailAndPassword","then","response","catch","error","message","signOut","signUp","name","createUserWithEmailAndPassword","currentUser","sendEmailVerification"],"mappings":";;;AAAA;AACA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,EAA0CC,aAA1C,QAA+D,OAA/D;AACA,SAASC,GAAT,EAAcC,IAAd,QAA0B,oBAA1B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AAEA,MAAMC,WAAW,gBAAGJ,aAAa,CAAC;AAAEK,EAAAA,IAAI,EAAE;AAAR,CAAD,CAAjC;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAeF,WAArB;AAEA,OAAO,SAASG,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAoC;AACzC,QAAMN,IAAI,GAAGO,eAAe,EAA5B;AACA,SAAO,MAAC,QAAD;AAAU,IAAA,KAAK,EAAEP,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBM,QAAxB,CAAP;AACD;AACD,OAAO,MAAME,OAAO,GAAG,MAAM;AAC3B,SAAOX,UAAU,CAACK,WAAD,CAAjB;AACD,CAFM;;AAIP,MAAMK,eAAe,GAAG,MAAM;AAC5B,QAAM;AAAA,OAACJ,IAAD;AAAA,OAAOM;AAAP,MAAkBd,QAAQ,CAAC,IAAD,CAAhC;;AAEA,MAAII,GAAJ,EAAS;AACPA,IAAAA,GAAG,CAACC,IAAJ,GAAWU,kBAAX,CAA8B,UAAUP,IAAV,EAAgB;AAC5C,UAAIA,IAAJ,EAAU;AACRM,QAAAA,OAAO,CAACN,IAAD,CAAP;AACD;AACF,KAJD;AAKD;;AAED,QAAMQ,MAAM,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAClC,WAAOb,IAAI,CACRc,0BADI,CACuBF,KADvB,EAC8BC,QAD9B,EAEJE,IAFI,CAEEC,QAAD,IAAc;AAClBP,MAAAA,OAAO,CAACO,QAAQ,CAACb,IAAV,CAAP;AACA,aAAOa,QAAQ,CAACb,IAAhB;AACD,KALI,EAMJc,KANI,CAMGC,KAAD,IAAW;AAChB,YAAMA,KAAK,CAACC,OAAZ;AACD,KARI,CAAP;AASD,GAVD;;AAYA,QAAMC,OAAO,GAAG,MAAM;AACpB,WAAOpB,IAAI,CAACoB,OAAL,GAAeL,IAAf,CAAoB,MAAMN,OAAO,CAAC,KAAD,CAAjC,CAAP;AACD,GAFD;;AAIA,QAAMY,MAAM,GAAG,CAAC;AAAEC,IAAAA,IAAF;AAAQV,IAAAA,KAAR;AAAeC,IAAAA;AAAf,GAAD,KAA+B;AAC5C,WAAOb,IAAI,CACRuB,8BADI,CAC2BX,KAD3B,EACkCC,QADlC,EAEJE,IAFI,CAEEC,QAAD,IAAc;AAClBhB,MAAAA,IAAI,CAACwB,WAAL,CAAiBC,qBAAjB;AACA,aAAOhB,OAAO,CAACO,QAAQ,CAACb,IAAV,CAAd;AACD,KALI,EAMJc,KANI,CAMGC,KAAD,IAAW;AAChB,aAAO;AAAEA,QAAAA;AAAF,OAAP;AACD,KARI,CAAP;AASD,GAVD;;AAWA,SAAO;AACLf,IAAAA,IADK;AAELkB,IAAAA,MAFK;AAGLV,IAAAA,MAHK;AAILS,IAAAA;AAJK,GAAP;AAMD,CA5CD","sourcesContent":["// Provider hook that creates an auth object and handles it's state\nimport { useState, useEffect, useContext, createContext } from \"react\";\nimport { app, auth } from \"../config/firebase\";\nimport { appendErrors } from \"react-hook-form\";\n\nconst authContext = createContext({ user: {} });\nconst { Provider } = authContext;\n\nexport function AuthProvider({ children }) {\n  const auth = useAuthProvider();\n  return <Provider value={auth}>{children}</Provider>;\n}\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nconst useAuthProvider = () => {\n  const [user, setUser] = useState(null);\n\n  if (app) {\n    app.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        setUser(user);\n      }\n    });\n  }\n\n  const signIn = (email, password) => {\n    return auth\n      .signInWithEmailAndPassword(email, password)\n      .then((response) => {\n        setUser(response.user);\n        return response.user;\n      })\n      .catch((error) => {\n        throw error.message;\n      });\n  };\n\n  const signOut = () => {\n    return auth.signOut().then(() => setUser(false));\n  };\n\n  const signUp = ({ name, email, password }) => {\n    return auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((response) => {\n        auth.currentUser.sendEmailVerification();\n        return setUser(response.user);\n      })\n      .catch((error) => {\n        return { error };\n      });\n  };\n  return {\n    user,\n    signUp,\n    signIn,\n    signOut,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/farisaziz/Desktop/Projecs/Throwdown_Site/throwdown_site/hooks/useAuth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n// Provider hook that creates an auth object and handles it's state\nimport { useState, useEffect, useContext, createContext } from \"react\";\nimport { auth, db } from \"config/firebase\";\nvar authContext = /*#__PURE__*/createContext({\n  user: {}\n});\nvar Provider = authContext.Provider;\nexport function AuthProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n  var auth = useAuthProvider();\n  return __jsx(Provider, {\n    value: auth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 10\n    }\n  }, children);\n}\n\n_s(AuthProvider, \"U5QEqN6sgp/9Kus+ung4cQwYnRk=\", false, function () {\n  return [useAuthProvider];\n});\n\n_c = AuthProvider;\nexport var useAuth = function useAuth() {\n  _s2();\n\n  return useContext(authContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar useAuthProvider = function useAuthProvider() {\n  _s3();\n\n  var _useState = useState(null),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var createUser = function createUser(user) {\n    return db.collection(\"users\").doc(user.uid).set(user).then(function () {\n      setUser(user);\n      return user;\n    })[\"catch\"](function (error) {\n      return {\n        error: error\n      };\n    });\n  };\n\n  var signUp = function signUp(_ref2) {\n    var name = _ref2.name,\n        email = _ref2.email,\n        password = _ref2.password;\n    return auth.createUserWithEmailAndPassword(email, password).then(function (response) {\n      auth.currentUser.sendEmailVerification();\n      return createUser({\n        uid: response.user.uid,\n        email: email,\n        name: name\n      });\n    })[\"catch\"](function (error) {\n      return {\n        error: error\n      };\n    });\n  };\n\n  return {\n    user: user,\n    signUp: signUp\n  };\n};\n\n_s3(useAuthProvider, \"Iei9RGtZU29Y1RhBe1sbfh/MntA=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"sources":["/Users/farisaziz/Desktop/Projecs/Throwdown_Site/throwdown_site/hooks/useAuth.js"],"names":["useState","useEffect","useContext","createContext","auth","db","authContext","user","Provider","AuthProvider","children","useAuthProvider","useAuth","setUser","createUser","collection","doc","uid","set","then","error","signUp","name","email","password","createUserWithEmailAndPassword","response","currentUser","sendEmailVerification"],"mappings":";;;;;;;AAAA;AACA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,EAA0CC,aAA1C,QAA+D,OAA/D;AACA,SAASC,IAAT,EAAeC,EAAf,QAAyB,iBAAzB;AACA,IAAMC,WAAW,gBAAGH,aAAa,CAAC;AAAEI,EAAAA,IAAI,EAAE;AAAR,CAAD,CAAjC;IACQC,Q,GAAaF,W,CAAbE,Q;AACR,OAAO,SAASC,YAAT,OAAoC;AAAA;;AAAA,MAAZC,QAAY,QAAZA,QAAY;AACzC,MAAMN,IAAI,GAAGO,eAAe,EAA5B;AACA,SAAO,MAAC,QAAD;AAAU,IAAA,KAAK,EAAEP,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBM,QAAxB,CAAP;AACD;;GAHeD,Y;UACDE,e;;;KADCF,Y;AAIhB,OAAO,IAAMG,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA;;AAC3B,SAAOV,UAAU,CAACI,WAAD,CAAjB;AACD,CAFM;;IAAMM,O;;AAIb,IAAMD,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAAA;;AAAA,kBACJX,QAAQ,CAAC,IAAD,CADJ;AAAA,MACrBO,IADqB;AAAA,MACfM,OADe;;AAE5B,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACP,IAAD,EAAU;AAC3B,WAAOF,EAAE,CACNU,UADI,CACO,OADP,EAEJC,GAFI,CAEAT,IAAI,CAACU,GAFL,EAGJC,GAHI,CAGAX,IAHA,EAIJY,IAJI,CAIC,YAAM;AACVN,MAAAA,OAAO,CAACN,IAAD,CAAP;AACA,aAAOA,IAAP;AACD,KAPI,WAQE,UAACa,KAAD,EAAW;AAChB,aAAO;AAAEA,QAAAA,KAAK,EAALA;AAAF,OAAP;AACD,KAVI,CAAP;AAWD,GAZD;;AAaA,MAAMC,MAAM,GAAG,SAATA,MAAS,QAA+B;AAAA,QAA5BC,IAA4B,SAA5BA,IAA4B;AAAA,QAAtBC,KAAsB,SAAtBA,KAAsB;AAAA,QAAfC,QAAe,SAAfA,QAAe;AAC5C,WAAOpB,IAAI,CACRqB,8BADI,CAC2BF,KAD3B,EACkCC,QADlC,EAEJL,IAFI,CAEC,UAACO,QAAD,EAAc;AAClBtB,MAAAA,IAAI,CAACuB,WAAL,CAAiBC,qBAAjB;AACA,aAAOd,UAAU,CAAC;AAAEG,QAAAA,GAAG,EAAES,QAAQ,CAACnB,IAAT,CAAcU,GAArB;AAA0BM,QAAAA,KAAK,EAALA,KAA1B;AAAiCD,QAAAA,IAAI,EAAJA;AAAjC,OAAD,CAAjB;AACD,KALI,WAME,UAACF,KAAD,EAAW;AAChB,aAAO;AAAEA,QAAAA,KAAK,EAALA;AAAF,OAAP;AACD,KARI,CAAP;AASD,GAVD;;AAWA,SAAO;AACLb,IAAAA,IAAI,EAAJA,IADK;AAELc,IAAAA,MAAM,EAANA;AAFK,GAAP;AAID,CA9BD;;IAAMV,e","sourcesContent":["// Provider hook that creates an auth object and handles it's state\nimport { useState, useEffect, useContext, createContext } from \"react\";\nimport { auth, db } from \"config/firebase\";\nconst authContext = createContext({ user: {} });\nconst { Provider } = authContext;\nexport function AuthProvider({ children }) {\n  const auth = useAuthProvider();\n  return <Provider value={auth}>{children}</Provider>;\n}\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nconst useAuthProvider = () => {\n  const [user, setUser] = useState(null);\n  const createUser = (user) => {\n    return db\n      .collection(\"users\")\n      .doc(user.uid)\n      .set(user)\n      .then(() => {\n        setUser(user);\n        return user;\n      })\n      .catch((error) => {\n        return { error };\n      });\n  };\n  const signUp = ({ name, email, password }) => {\n    return auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((response) => {\n        auth.currentUser.sendEmailVerification();\n        return createUser({ uid: response.user.uid, email, name });\n      })\n      .catch((error) => {\n        return { error };\n      });\n  };\n  return {\n    user,\n    signUp,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}